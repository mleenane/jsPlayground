<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Object</title>
</head>
<body>
	<script>		
	/*		
	const mark = {
		fullName: 'Mark Millar',
		mass: 78,
		height: 1.69,
		calcBMI: function(){
		 this.bmi = this.mass / (this.height * this.height); 
		 return this.bmi;
		}
	};
	
	const john = {
		fullName: 'John Smith',
		mass: 92,
		height: 1.95,
		calcBMI: function(){
		 this.bmi = this.mass / (this.height * this.height); 
		 return this.bmi;
		}
	};
	mark.calcBMI();
	john.calcBMI();
	
	if(john.bmi > mark.bmi){	
		console.log(`${john.fullName}'s BMI (${john.bmi}) is higher than ${mark.fullName}'s (${mark.bmi})`)}
	else{
		console.log(`${mark.fullName}'s BMI (${mark.bmi}) is higher than ${john.fullName}'s BMI (${john.bmi})`)	
	}*/
	
	const martin = {
		name: 'Martin Leenane',
		job: 'Product Manager',
		birthYear: 1979,
		age: function(){
			const d = new Date();
			return d.getFullYear() - this.birthYear;
		},
		canDrive: function(){
			if(this.age > 18){
				return `has a`;
			}else {
				return `has no`
			}	
		},
		getSummary: function(){
			return `${this.name} is a ${this.age()} - year old ${this.job}, and he ${this.canDrive()} drivers license.`
		}
	};
	console.log(martin.getSummary());
	/*
	This question already has answers here:
	Self-references in object literals / initializers (31 answers)
	Closed 8 years ago.
	I am trying to do something like this:
	
	var obj = {
		a: 5,
		b: this.a + 1
	}
	(instead of 5 there is a function which I don't want to execute twice that returns a number)
	I can rewrite it to assign obj.b later from obj.a, but can I do it right away during declaration?	

	There are only 3 cases in which the value this gets set:
	
	The Function Case
	foo();
	Here this will refer to the global object.
	
	The Method Case
	test.foo(); 
	In this example this will refer to test.
	
	The Constructor Case
	new foo(); 
	A function call that's preceded by the new keyword acts as a constructor. Inside the function this will refer to a newly created Object.
	
	Everywhere else, this refers to the global object.
	*/
	</script>
</body>
</html>